当前最优模型buy_weights_step300_20180101_20231231_last

数据量对比
buy_weights_test_20130101_20231231_last,十年数据看起来要更好一点
sell_weights_test_20230101_20231231_last，一年数据确实没有十年的好。

学习率对比
sell_weights_test_20180101_20231231有学习率衰减，2000后乘以0.1, 训练好，测试，tsla好。amsc差
buy_weights_test_20180101_20231231

增加特征对比
1000衰减学习率的模型显示，训练500次的模型表现要好于训练1000-3000的模型。此时还没有开始学习率衰减。
可能是由于增加了几个特征，所以很早就学习到了基本属性。
2000衰减的模型还没跑完。训练500次不如训练1000和1500，2000的最好。似乎说明学习率衰减并不好用。
似乎1000的迭代效果最好。
从loss看，迭代300轮以后，开始出现剧烈起伏，也许这时就该减小学习率了。

目前看来训练轮数越多，泛化越差。就是过拟合了，符合认知。
还是得找合适的训练数据和测试数据。

下面要测试训练240只股票，还是训练23只股票

使用240只股票，同时每300轮学习率衰减0.1，效果远超不衰减
buy_weights_step300_20180101_20231231_last目前最好的模型。目标是sell5
buy_weights_step300_20180101_20231231_300可能更好一丢丢。
sell_240_step100_20130101_20231231_last也还行，每100轮衰减0.5

buy_23_step300_20180101_20231231_last300，300和600有差异，600再往后基本没变化了。
sell_240_step300_20130101_20231231_600训练240就是比训练23效果要好
这里对比有点问题

对比五年和十年的数据，300，0.目标是sell5衰减
五年的好一些


目前最优
buy_240_step100_05_20180101_20231231_200.pth这个也是卖出信号
使用20200101至今的数据，效果也不错。就是说6年数据和4年数据，差不多。


需要明确12个模型。。。有点多。先搞港美吧。有模型以后，还要评估最有效的票
us
buy1
us_stock_buy1_step100_05_20180101_20231231_100.pth
buy5
us_stock_buy5_step100_05_20180101_20231231_last.pth
sell1
us_stock_sell1_step100_05_20180101_20231231_100.pth
sell5
us_stock_sell5_step100_05_20180101_20231231_200.pth


hk
buy1
hk_stock_buy1_step100_05_20180101_20231231_last.pth
buy5
hk_stock_buy5_step100_05_20210101_20231231_last.pth
sell1
hk_stock_sell1_step100_05_20180101_20231231_100.pth
sell5
hk_stock_sell5_step100_05_20210101_20231231_100.pth

A
buy1
buy5
sell1
sell5

美股取了交易额超1e8美元的票
hk取了交易额超1e8港币的票
大a去了交易额超5*1e8人民币的票

hk的交易额是真差。。。

怎么评估最有效的票？准确率最高。

测一下hk股票少的情况，时间长度的影响。6年或者3年

可能由于前复权历史数据有负数的问题，造成了使用过多历史数据，会效果不好。修复后重新测。

